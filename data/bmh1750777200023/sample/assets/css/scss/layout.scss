@charset "UTF-8";
/* CSS Document - layout.scss ㅋㅌㅊ */

// SCSS var
$header-height: 72px;
$lnb-collapsed-width: 80px;
$lnb-expanded-width: 260px;
$lnb-padding: 8px 12px 32px 12px;


// =================================================================
// 공통 변수 및 기본 스타일
// =================================================================
body {
    --common-header-height: #{$header-height};
}

main.common {
    display: flex;
	padding-bottom: 100px;
}

.common-container {
    flex: 1;
    padding: 0 40px;
}

// =================================================================
// 공통 헤더 (.common-header)
// =================================================================
header.common {
	position: sticky;
	top: 0;
	left: 0; 
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    height: var(--common-header-height);
    padding: 0 40px 0 24px;
    border-bottom: solid 1px #dedede;
    background-color: #fff;
	z-index: 10;

	> .ctrl-nav { display: none; }

    .logo,
    .util {
        flex: 0 1 200px;
        
        * {
            padding: 0;
            margin: 0;
            line-height: 1;
            display: block;
        }
    }

    .common-gnb {
		display: inline-flex;
  		height: 100%;
		.option-control-wrap{ display: none; }


		&__list{
			display: inline-flex;
        	height: 100%;
			column-gap: 1em;

			.gnb-item {
				height: 100%;
				padding: 0 .5em;

				a {
					display: flex;
					justify-content: center;
					align-items: center;
					height: 100%;
					color: currentColor;
					text-decoration: none;

					--line-width: 4px;
					padding-top: var(--line-width, 4px);
					border-bottom: var(--line-width, 4px) solid transparent;
					
					&:hover {
						border-bottom-color: var(--primary-100);
					}
					
					&.current {
						color: var(--primary-700);
						border-bottom-color: var(--primary-500);
					}
					i{ display: none; }
				}

				ul{ display: none; }
			}

		}
			
    }

    .util {
        display: flex;
        justify-content: flex-end;
        gap: .8em;

		
        
        .util-item {
            position: relative;
            display: inline-flex;
            align-items: center;
            flex: 0 1 2em;
            justify-content: center;
        }
        
        .user {
            width: 36px;
            aspect-ratio: 1;
            padding: 0;
            overflow: hidden;
            background-color: transparent;
            
            &::after { 
                display: none;
            }

            img {
                display: block;
                width: 100%;
                height: 100%;
                object-fit: cover;
                object-position: center;
                border-radius: 100em;
                background-color: #606060;
                
                &[src*=".svg"] { 
                    padding: 5px;
                }
            }
            
            & + .dropdown-menu {
				--hrd-dropdown-zindex :7;
				display: none;
                position: absolute;
                top: calc(100% + 8px);
                right: 0;

				&.show{ display: block; }

				.dropdown-item{  padding: 1em  }
				.dropdown-item + .dropdown-item{ border-top: 1px solid var(--border-color, #eee) }

            }
			
        }
    }
}
@media(max-width: 1024px) {
	header.common {
		padding: 0 20px 0 20px;
		z-index: 10;

		> .ctrl-nav { 
			display: flex; 
			width: 36px;
    aspect-ratio: 1;
	justify-content: center;
    align-items: center;
		}

		.common-gnb {
			display: flex;
			flex-direction: column;
			position: fixed;
			left: 0;
			top: 0;
			width: 340px;
			height: 100%;
			background-color: #fff;
			transform: translateX(-100%);
    		transition: all .3s;

			z-index: 10;
    		box-shadow: 4px 0 2em hsl(0deg 0% 0% / .2);

			--padding-left-width : 40px;

			.option-control-wrap{
				flex: none;
				display: flex;
				padding:1em;

				.ctrl-nav{
					display: flex;
					width: 40px;
					height: 40px;
					margin-left: auto;
					justify-content: center;

					&__title{ display: none; }
				}
			}

			&__list{
				display: block;
				width: 100%;
				height: 1px;
				flex: 1;
				padding-bottom: 60px;
				overflow: auto;

				.gnb-item {
					height: auto;
					padding: 0 .5em;

					a {
						--line-width: 8px;
						justify-content: left;
						gap: .5em;
						border-color: transparent !important;

						height: auto;
						color: currentColor;
						text-decoration: none;

						
						
						&:hover {
							border-bottom-color: var(--primary-100);
						}
						
						&.current {
							color: var(--primary-700);
							border-bottom-color: var(--primary-500);
						}

						i{ 
							display: inline-flex;
							width: var(--padding-left-width, 40px);
								aspect-ratio: 1;
								background-color: #fff;
								border-radius: 100em;
						}
					}

					a.current { font-weight: 600; }

					ul{ 
						display: block; 
						padding-left: calc( var(--padding-left-width, 40px) + .5em);

						ul{ 
							padding-left: calc( var(--padding-left-width, 40px) / 2);
							background-color: var(--primary-50); 
						}
					}

					&:has( .current ) > a{
						color: var(--primary-700); 
						i{ 
							background-color: var(--primary-500); 
							color: #fff;
						}
					} 
				}
			}
				

			&.expanded{ transform: translateX(0%); }
		}

	
		.logo{
			position: absolute;
			top:50%;
			left: 50%;
			transform: translate(-50%, -50%);

			img{ max-width: 100%; }
		}
	}

}
@media(max-width: 768px){
	header.common { padding: 0 16px 0 16px; }
}

// =================================================================
// 왼쪽 메뉴 (.common-lnb)
// =================================================================
aside.common-lnb {
    --lnb-width : 80px;
	--lnb-top: var(--common-header-height);

    flex: 0 1 auto;
    position: sticky;
    top: var(--lnb-top);
    left: 0;
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: var(--lnb-width); // SCSS 변수 사용
    height: calc( 100vh - var(--lnb-top)); // SCSS 변수 사용
    
    padding: $lnb-padding; // SCSS 변수 사용
    background-color: #fff;
    transition: all .3s;
    z-index: 4;

    .option-control-wrap {
        display: flex;
        flex-wrap: wrap;
        padding: 8px;
    }

    .ctrl-nav {
        justify-content: center;
        white-space: nowrap;
        color: var(--dark-900);
        line-height: 1;
        gap: 4px;
        width: auto;
        min-width: 3em;
        min-height: 2em;
        flex: 0 1 auto;
        background: none;

        &__title {
            display: inline-block;
            max-width: 0px;
            transition: all .3s;
            overflow: hidden;
        }

		.icon-png-ctrl-collapse{
			--ic-img: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 18 18' fill='none'%3E%3Cpath d='M7.37575 8.8744L17 8.8744M17 8.8744L12.1879 4.06228M17 8.8744L12.1879 13.6865' stroke='%2367777E' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3Crect x='0.213867' y='2' width='5.59956' height='14.0645' rx='1' fill='%2367777E'/%3E%3C/svg%3E");

			&::before{
				content: '';
				display: block;
				width: 1.2em;
				height: 1em;
				background-image: var(--ic-img);
				background-repeat: no-repeat;

			}
		}
    }

    .nav-lnb {
        flex: 1;
        overflow: auto;
        display: flex;
        flex-direction: column;
        height: 1px;
        min-height: 80%;
        gap: 4px;
        padding: 0 0px 4em 0px;
        padding-left: 0px;
        // 기존 CSS의 오타는 수정하지 않고 그대로 유지했습니다. (scollbar)
        scollbar-color: gray darkgray; 
        scollbar-width: thin;
        scrollbar-width: none;
        
        a {
            position: relative;
            display: flex;
            justify-content: left;
            align-items: center;
            gap: 0em;
            padding: 1em;
            font-size: 16px;
            font-weight: 500;
            line-height: normal;
            letter-spacing: normal;
            color: var(--text-dark-0);
            border-radius: var(--border-radius-4px);
            word-break: keep-all;
            overflow: visible;
            line-height: 1.2em;
            max-height: 3.6em;
            text-decoration: none;

            > span { // 직접 자식 선택자 중첩
                flex: 1;
                max-width: calc( 0% - 0px);
                white-space: nowrap;
                overflow: hidden;
            }
            
            &:hover {
                color: var(--primary-700);
            }
            &.current {
                background-color: var(--primary-50);
                color: var(--primary-700);
            }
        }

        .nav-item {
            position: relative;
            
			> ul{ 
				display: none; 
				li > a {
                    padding-left: calc(1em + 1em + 6px + 1em); // 깊이 추가
                }
			}
        }
    }
    
    // LNB 축소 상태 (.common-lnb:not(.expanded))
    &:not(.expanded) {
        .nav-lnb {
            overflow: visible;

            a {
                max-height: var(--hh); 
                
                &:hover span {
                    position: absolute;
                    display: block;
                    min-width: 3em;
                    max-width: 10em;
                    max-height: 40px;
                    border-radius: 3px;
                    padding: 4px;
                    left: 100%;
                    top: 50%;
                    background-color: hsl(198.3deg 100% 9% / .9);
                    font-size: 12px;
                    font-weight: 400;
                    letter-spacing: 1px;
                    word-break: break-all;
                    text-align: center;
                    color: #fff;
                    transform: translate(-4px, -50%);
                    
                 
                    overflow: hidden;
                    text-overflow: ellipsis;
                    display: -webkit-box;
                    -webkit-line-clamp: 2;
                    -webkit-box-orient: vertical;
                    line-height: 1.2em;
                    box-shadow: 0px 0px 10px 1px hsl(0 0% 0% / .2);
                }
            }
			.nav-item:has( a.current ) > a{
				background-color: var(--primary-500);
				.ms-icon {
					color: #fff;
				}
			}
        }
    }
    
    // LNB 확장 상태 (.common-lnb.expanded)
    &.expanded {
        --lnb-width : 260px;
        
        .ctrl-nav i {
            transform: rotate(180deg);
        }

        .ctrl-nav {
			&__title {
				max-width: 100%;
			}
		} 
        
        .nav-lnb a {
            gap: 1em;
            
            > span {
                max-width: calc( 100% - 0px);
            }
        }
        
        .nav-lnb .nav-item {
            > ul{ 
				display: block; 
			}

            // 확장 상태에서 배경색 초기화
            > ul > li > a {
                &:has( + ul .current ) { 
                    background-color: transparent;
                    svg {
                        fill: currentColor;
                    }
                }
            }
        }		


    }
}

// =================================================================
// 섹션 스타일
// =================================================================
section.section {
    padding: 16px 32px;
    background-color: #fff;
    border-radius: 8px;
    
    // + 선택자 중첩
    & ~ & {
        margin-top: 16px;
    }
}
@media (max-width: 1024px) {
	section.section { border-radius: 0px;}
}
@media (max-width: 768px) {
	section.section { padding: 12px 16px; 
		& ~ & { margin-top: 12px;   }
	}
}

@media(max-width: 1280px) {
	
	aside.common-lnb {
		position: fixed;
		z-index: 6;
		box-shadow: 2px 8px 20px hsl( 0deg 0% 0% / 0);

		&.expanded{ 
			box-shadow: 2px 8px 20px hsl( 0deg 0% 0% / .2);
		}
	}
	.nav-lnb {
        padding: 0 0px 160px 0px;
	}
	.common-container { padding-left: calc( $lnb-collapsed-width + 40px ) ; }

	body:not(:has(aside.common-lnb)) .common-container { padding-left: 40px  ; }
}
@media(max-width: 1024px) {
	aside.common-lnb { display: none;	}
	
	.common-container { padding: 0; }
	body:not(:has(aside.common-lnb)) .common-container { padding-left: 0px  ; }
}